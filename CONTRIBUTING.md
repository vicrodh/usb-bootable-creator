# Contributing / Contribuir

Thank you for your interest in improving MajUSB. Please read these guidelines before opening a PR or issue. Gracias por tu interés en mejorar MajUSB. Lee estas pautas antes de abrir un PR o issue.

## Code of Conduct / Código de Conducta
- Be respectful, concise, and helpful. No harassment, personal attacks, or spam.
- Preserve critical behavior: Windows USB flow must remain dual-partition (FAT32 BOOT + NTFS ESD-USB) with strategic copying; dd/direct write stays opt-in only.
- No build, no commit: always run `cargo build` (or stricter) before committing. Do not commit failing code.
- Avoid destructive actions on user systems; never touch system disks (/ /boot /boot/efi). Protect user data and keep security warnings clear.
- Do not add AI co-authors or autogenerated footers to commits.

## How to Contribute / Cómo Contribuir
1. **Fork and Clone** / **Haz fork y clona**  
   Fork the repo, then `git clone <your-fork-url>` and `git remote add upstream git@github.com:vicrodh/usb-bootable-creator.git`.
2. **Branching Strategy** / **Estrategia de ramas**  
   Create feature branches from `main` (e.g., `feature/<topic>`). Keep work isolated and rebase/merge `main` as needed.
3. **Making Changes** / **Haciendo cambios**  
   - Follow Rust idioms; keep code small and readable.  
   - Maintain the Windows dual-partition flow; dd remains optional.  
   - Run `cargo fmt` if you change Rust code; run `cargo build` at minimum; add/update tests when behavior changes.  
   - Keep GUI changes consistent and avoid breaking package checks.
4. **Commit Messages** / **Mensajes de commit**  
   Use clear, descriptive titles (e.g., `fix(gui): show missing packages window`). No AI footers or co-authors.
5. **Submitting a Pull Request** / **Enviando un Pull Request**  
   - Rebase on `main`, ensure builds/tests pass, and describe what changed, why, and how to test.  
   - Mention relevant tasks (e.g., WINDOWS_OPTIMIZATION_TASKS.md).  
   - Note any new dependencies (required vs optional) and user-facing impacts.

## Reporting Bugs / Reportar Bugs
- Provide steps to reproduce, expected vs actual results, logs/output (include `cargo build` output if relevant), OS/distro, and device info (USB model/size).
- For Windows USB issues, state ISO name/version and whether bypasses/dd mode were enabled.

## Requesting Features / Solicitar Funciones
- Describe the problem to solve, proposed behavior, and any constraints (performance, UX).  
- For Windows features, clarify if it affects the dual-partition flow or bypass options.  
- If suggesting downloads/automation, include source/API ideas and licensing considerations.

## Testing / Pruebas
- Minimum: `cargo build` before commit.  
- Run specific flows you touched (Windows/Linux, dd/bypass) and note outcomes in PRs.  
- If adding wimlib/bypass behavior, verify wimlib-imagex is present or handle absence gracefully.

## Notes on Dependencies / Notas sobre dependencias
- Required (MVP): util-linux tools (lsblk, mount, wipefs), parted, dosfstools, ntfs-3g, rsync, coreutils.  
- Optional (Windows/persistence): gptfdisk/sgdisk, wimlib-imagex, ntfs-3g-progs on Alpine, etc.  
- Keep README dependency lists updated when adding or changing requirements.
